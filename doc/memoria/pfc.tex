%% Para arreglar el error que da el ifpdf
%% Sacado de internet:
%% Yes, \ifpdf is defined both in the class file and in the package ifpdf that is loaded by graphics.cfg. Workaround:
%%  \RequirePackage{ifpdf}
%%  \documentclass{JHEP3}
%% Then \ifpdf will be overwritten by the class, but with a similar meaning (the class is wrong for negative numbers of \pdfoutput). But the warning of ifpdf is not triggered and the package will not be loaded again later, because the package is already loaded.
\RequirePackage{ifpdf}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% HEADER
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\documentclass[a4paper,oneside,12pt,draft]{report}
\documentclass[a4paper,oneside,11pt]{report}
% Alternative Options:
%	Paper Size: a4paper / a5paper / b5paper / letterpaper / legalpaper / executivepaper
% Duplex: oneside / twoside
% Base Font Size: 10pt / 11pt / 12pt
%\usepackage{helvet}
%\renewcommand{\familydefault}{\sfdefault}

%% Normal LaTeX or pdfLaTeX? %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% ==> The new if-Command "\ifpdf" will be used at some
%% ==> places to ensure the compatibility between
%% ==> LaTeX and pdfLaTeX.
\newif\ifpdf
\ifx\pdfoutput\undefined
	\pdffalse              %%normal LaTeX is executed
\else
	\pdfoutput=1           
	\pdftrue               %%pdfLaTeX is executed
\fi


%% Fonts for pdfLaTeX %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% ==> Only needed, if cm-super-fonts are not installed
%\ifpdf
	%\usepackage{ae}       %%Use only just one of these packages:
	%\usepackage{zefonts}  %%depends on your installation.
%\else
	%%Normal LaTeX - no special packages for fonts required
%\fi


%% Language %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[british,spanish]{babel}
\usepackage[T1]{fontenc}
\usepackage[latin1]{inputenc}
\usepackage{soul}	% para tachar texto


%% Packages for Graphics & Figures %%%%%%%%%%%%%%%%%%%%%%%%%%
\ifpdf %%Inclusion of graphics via \includegraphics{file}
	\usepackage[pdftex]{graphicx} %%graphics in pdfLaTeX
\else
	\usepackage[dvips]{graphicx} %%graphics and normal LaTeX
\fi
\usepackage{graphicx}
%\usepackage[hang,tight,raggedright]{subfigure} %%Subfigures inside a figure
%\usepackage{pst-all} %%PSTricks - not useable with pdfLaTeX




% will apply to all captions
\usepackage[labelfont={footnotesize},textfont={it,footnotesize}]{caption}
% will apply to all subcaptions
\usepackage[labelfont={footnotesize},textfont={it,footnotesize},singlelinecheck=off,justification=raggedright]{subcaption}
%Command             10pt    11pt    12pt
%\tiny               5       6       6
%\scriptsize         7       8       8
%\footnotesize       8       9       10
%\small              9       10      10.95
%\normalsize         10      10.95   12
%\large              12      12      14.4
%\Large              14.4    14.4    17.28
%\LARGE              17.28   17.28   20.74
%\huge               20.74   20.74   24.88
%\Huge               24.88   24.88   24.88



%% Math Packages %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amsfonts}

%% Lists packages %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\usepackage{enumerate}
\usepackage[shortlabels]{enumitem}


%% Line Spacing %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{setspace}
%\singlespacing        %% 1-spacing (default)
\onehalfspacing       %% 1,5-spacing
%\doublespacing        %% 2-spacing


%% Other Packages %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\usepackage{a4wide} %%Smaller margins = more text per page.
\usepackage{fancyhdr} %%Fancy headings
\usepackage{longtable} %%For tables, that exceed one page
\usepackage{rotating} %%permite rotar tablas
\usepackage{multirow} %% permite tener multilineas en una tabla
\usepackage[left=3cm, right=3cm, top=3cm, bottom=3cm]{geometry}

\usepackage{array}

%\usepackage{wrapfig}

\showboxdepth=5
\showboxbreadth=5

\setlength{\headheight}{16pt}

%%\usepackage{tex4ht}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Remarks
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% TODO:
% 1. Edit the used packages and their options (see above).
% 2. If you want, add a BibTeX-File to the project
%    (e.g., 'literature.bib').
% 3. Happy TeXing!
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Options / Modifications
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%\input{options} %You need a file 'options.tex' for this
%% ==> TeXnicCenter supplies some possible option files
%% ==> with its templates (File | New from Template...).

%% MARCADEAGUA
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Marca de agua (mientras se escribe el documento)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{wallpaper}
 


%% SVN Version %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\usepackage{svn-multi}
%\svnidlong
%{$HeadURL$}
%{$LastChangedDate$}
%{$LastChangedRevision$}
%{$LastChangedBy$}
%\svnid{$Id$}
%% Based on a TeXnicCenter-Template by Tino Weinkauf.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% GIT Version %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\usepackage[missing=Help!,notags={No tags?},dirty=Eww!]{gitinfo2}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


 
%% Links en la tabla de contenidos
\usepackage[linktoc=all]{hyperref}
%% Contadores para los capítulos(0), secciones(1), subsecciones(2), subsubsecciones(3), paragraphs(4), subparagraphs(5)...
\setcounter{secnumdepth}{5}
\setcounter{tocdepth}{5}  	
%\usepackage{titlesec}
\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=black,
    urlcolor=blue
}

\usepackage{cite}

%% Bibliografía en español
%% %%% Este paquete recupera el idioma indicado al llamar a babel y lo utiliza para las citas bibliográficas
\usepackage{babelbib}



% Para formatear la fecha
\usepackage[nodayofweek]{datetime}


% Para el glosario
\usepackage[toc,acronym]{glossaries}
%\usepackage[nopostdot,nogroupskip,nonumberlist]{glossaries-extra}
%\glsunsetall[main] % Con esto, los acrónimos no se muestran en long-form, ni siquiera cuando aparecen por primera vez
% Si se quiere que alguno se muestre en long form, se puede poner justo antes de \gls{XYZ} este comando: \glslocalreset{XYZ}
\makeglossaries


%% Para poner notas
\usepackage{xargs}
\usepackage{xcolor}
\usepackage[colorinlistoftodos,prependcaption,textsize=tiny]{todonotes}
%\usepackage[colorinlistoftodos,prependcaption,textsize=tiny,spanish]{todonotes}
%\usepackage[colorinlistoftodos,prependcaption,textsize=tiny,spanish,obeyDraft]{todonotes}
\newcommandx{\notasDuda}[2][1=]{\todo[linecolor=red,backgroundcolor=red!25,bordercolor=red,#1]{#2}}
\newcommandx{\notasCambio}[2][1=]{\todo[linecolor=blue,backgroundcolor=blue!25,bordercolor=blue,#1]{#2}}
\newcommandx{\notasInfo}[2][1=]{\todo[linecolor=green,backgroundcolor=green!25,bordercolor=green,#1]{#2}}
\newcommandx{\notasMejorar}[2][1=]{\todo[linecolor=purple,backgroundcolor=purple!25,bordercolor=purple,#1]{#2}}
\newcommandx{\notasOculto}[2][1=]{\todo[disable,#1]{#2}}



\usepackage{tabularx}
\newcolumntype{Y}{>{\centering\arraybackslash}X}
\newcolumntype{Z}{>{\raggedright\arraybackslash}X}

\usepackage{booktabs}

\usepackage[flushleft]{threeparttable}
%\usepackage{tablefootnote}

% Package para poner el texto en varias columnas
\usepackage{multicol}


% Package para incluir pdfs.
% lo utilizo para introducir la página de calificación del PFC.
\usepackage{pdfpages}


% Para incluir código
\usepackage{listings}
\usepackage{color}
\usepackage{courier} %% Para poder usar este tipo de letra en las listings. Con \ttfamily
 
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}
 
\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\scriptsize\ttfamily,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2,
    postbreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\color{green}\hookrightarrow\space}}
}

\lstset{}
 
\lstset{style=mystyle}


\usepackage{epigraph}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% DOCUMENT
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}

%% Por defecto, las viñetas van con circulitos
\renewcommand\labelitemi{$\bullet$}

%% MARCADEAGUA
%\ULCornerWallPaper{1}{imgs/marcadeagua_endesarrollo.png}
%% FIN MARCADEAGUA

%% File Extensions of Graphics %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% ==> This enables you to omit the file extension of a graphic.
%% ==> "\includegraphics{title.eps}" becomes "\includegraphics{title}".
%% ==> If you create 2 graphics with same content (but different file types)
%% ==> "title.eps" and "title.pdf", only the file processable by
%% ==> your compiler will be used.
%% ==> pdfLaTeX uses "title.pdf". LaTeX uses "title.eps".
\ifpdf
	\DeclareGraphicsExtensions{.pdf,.jpg,.png}
\else
	\DeclareGraphicsExtensions{.eps}
\fi

\pagestyle{fancy} %No headings for the first pages
%\fancyfoot[CO, CE]{\thepage}
\fancyfoot[CO]{\thepage}


%% Title Page %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% ==> Write your text here or include other files.

%% The simple version:
%\begin{figure}
	%\centering
		%\includegraphics[width=0.50\textwidth]{imgs/logo_usp_12star.jpg}
%\end{figure}
%
%
%\title{Aquí va el nombre del proyecto}
%\author{José Carlos Jiménez Gómez}
%%\date{7 de febrero de 2012} %%If commented, the current date is used.
%
%
%\maketitle


%% The nice version:
\input{titlepage} %%You need a file 'titlepage.tex' for this.
%% ==> TeXnicCenter supplies a possible titlepage file
%% ==> with its templates (File | New from Template...).

\renewcommand{\thepage}{\roman{page}}
\setcounter{page}{2}

%% Página temporal que muestra la revisión del SVN de la documentación
%\input{version.tex}

%% Página reservada para la calificación del proyecto
\input{calificacion.tex}
%\backmatter
%\setcounter{secnumdepth}{-1}
%\chapter*{Calificación}
%\addcontentsline{toc}{chapter}{Calificación}
%\let\l@chapternonum\l@chapter
%\newcounter{chapternonum}
%\renewcommand{\thechapternonum}{}
%\includepdf[pages={1},addtotoc={1,chapternonum,1,Calificación,calificacion},pagecommand={\thispagestyle{plain}}]{calificacion.pdf}
%\setcounter{secnumdepth}{0}


%\renewcommand{\thepage}{\roman{page}}
%\setcounter{page}{1}


%% Resumen, abstract y agradecimientos %%%%%%%%%%%%%%%%%%%%%%%%
\input{resumen.tex}
\input{abstract.tex}
\input{agradecimientos.tex}


%% Indice %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\lhead{}
\rhead{Índice General}
\tableofcontents %Table of contents
\addcontentsline{toc}{chapter}{Índice General}

%% The List of Figures %%%%%%%%%%%%%%%%%%%%%%%%%%
\clearpage
\listoffigures
\addcontentsline{toc}{chapter}{Índice de Figuras}

%% The List of Tables %%%%%%%%%%%%%%%%%%%%%%%%%%%
\clearpage
\renewcommand{\tablename}{Tabla}
\renewcommand{\listtablename}{Índice de tablas}
\listoftables
\addcontentsline{toc}{chapter}{Índice de Tablas}


%% The List of Listings %%%%%%%%%%%%%%%%%%%%%%%%%
%\lstlistoflistings

\pagestyle{fancy}
%\fancyfoot[CO, CE]{\thepage}
\fancyfoot[CO]{\thepage}

%\pagestyle{plain} %Now display headings: headings / fancy / ...

\newpage

%% Chapters %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% ==> Write your text here or include other files.
\renewcommand{\thepage}{\arabic{page}}
%\setcounter{page}{1}

%% Separación entre párrafos:
%% si quiero que la distancia extra entre párrafos sea la misma que el interlineado
%\setlength{\parskip}{\baselineskip}
\setlength{\parskip}{\baselineskip/2}

\input{introduccion.tex}
\input{estadocuestion.tex}
\input{planteamiento.tex}
\input{riesgos.tex}
\input{analisis.tex}
\input{solucion.tex}
%\input{pruebas.tex}
%%\input{manuales.tex}
\input{lineasFuturas.tex}
\input{conclusiones.tex}
%\input{glosario.tex}
%\makeglossaries
%%\input{temp.tex}
%%\input{tempEleccionJuntaEscuela.tex}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% GLOSARIO
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% A small distance to the other stuff in the table of contents (toc)
\addtocontents{toc}{\protect\vspace*{\baselineskip}}

%\makeglossaries %% Va en el preámbulo
\lhead{}
\rhead{Glosario de términos}
\input{glosario.tex}
\renewcommand*{\acronymname}{Glosario de términos}
\printglossaries



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% BIBLIOGRAPHY AND OTHER LISTS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% A small distance to the other stuff in the table of contents (toc)
\addtocontents{toc}{\protect\vspace*{\baselineskip}}




%% The Bibliography
%% ==> You need a file 'literature.bib' for this.
%% ==> You need to run BibTeX for this (Project | Properties... | Uses BibTeX)
\newcommand{\urlFont}{\ttfamily\scriptsize}
\setbibliographyfont{url}{\urlFont}
\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{Bibliografía} %'Bibliography' into toc
\lhead{}
\rhead{Bibliografía}
\nocite* %Even non-cited BibTeX-Entries will be shown.
\bibliographystyle{acm} %Style of Bibliography: plain / apalike / amsalpha / ...
%\bibliographystyle{ieeetr} %Style of Bibliography: plain / apalike / amsalpha / ...
\bibliography{biblio} %You need a file 'literature.bib' for this.




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% APPENDICES
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newpage
\appendix
\chapter*{Anexos}
\addcontentsline{toc}{chapter}{Anexos}
\renewcommand{\thesection}{\Alph{section}}
\lhead{}
\rhead{Anexos}

\setcounter{epihc}{\value{footnote}}\stepcounter{epihc}
\epigraphhead[70]{\epigraph{The internet?  Is that thing still around?}{\textit{Homer Simpson\footnotemark[\value{epihc}]}}}
\footnotetext[\value{epihc}]{{Personaje ficticio protagonista de la serie animada Los Simpsons. Capítulo 226 (23 de la temporada 10) \textit{Thirty Minutes over Tokyo} 16/05/1999 \url{https://youtu.be/Q9A0Vufw3NQ} \url{http://www.simpsonsarchive.com/episodes/AABF20.txt}}}
\setcounter{footnote}{\value{epihc}}




\input{anexoInstalacionHelios.tex}

\newpage
\input{anexoConfiguracionServidorWebHelios.tex}

\newpage
\input{anexoExportarCertificadosAppAndroid.tex}

\newpage
\input{anexoJsonVoto.tex}

\newpage
\input{anexoVerificarVoto.tex}

\newpage
\input{anexoAuditarVoto.tex}

\newpage
\input{anexoVerificarEleccion.tex}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% NOTAS (PARA BORRADOR)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\addtocontents{toc}{\protect\vspace*{\baselineskip}}
\addcontentsline{toc}{chapter}{Notas (para borrador)} %'Bibliography' into toc
\rhead{Notas}
\listoftodos[Notas (para borrador)]

\end{document}

