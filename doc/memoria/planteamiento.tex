\chapter{Planteamiento}\label{planteamiento}
\lhead{Capítulo \ref{planteamiento}}
\rhead{Planteamiento}


\setcounter{epihc}{\value{footnote}}\stepcounter{epihc}
\epigraphhead[70]{\epigraph{Always vote for principle, though you may vote alone, and you may cherish the sweetest reflection that your vote is never lost.}{\textit{John Quincy Adams\footnotemark[\value{epihc}]}}}
\footnotetext[\value{epihc}]{{6º Presidente de los Estados Unidos de América (1825-1829) \cite{Books200504} \url{https://goo.gl/bf8zDP} \url{https://es.wikipedia.org/wiki/John_Quincy_Adams}}}
\setcounter{footnote}{\value{epihc}}


%*******************************************************************************

% *************************************************************************************************************** %
% 			OBJETIVOS
% *************************************************************************************************************** %
\section{Objetivos finales del proyecto}\label{objetivos}
	El objetivo principal de este Proyecto de Fin de Carrera es la implementación de un sistema de votación electrónica remota (i-voting) diseñada de forma ad-hoc para dos de los procesos electorales que se llevan a cabo en la Escuela Politécnica Superior de la Universidad San Pablo CEU.
	
	Estos procesos están definidos en las \textit{Normas de Organización y Funcionamiento de la Universidad San Pablo-CEU} \cite{normasCEU} y son:
	
	\begin{itemize}
		\item Elecciones de Miembros de la Junta Electoral
		\item Elecciones de Delegados y Subdelegados
	\end{itemize}
	
	El sistema que se propone en esta memoria es un sistema \textbf{robusto}, \textbf{fiable}, \textbf{verificable} y \textbf{auditable}, buscando satisfacer las exigencias de seguridad de procesos electorales más ambiciosos que los que tratamos en este proyecto, los cuales abarcan el ámbito universitario. Por tanto, la intención de este PFC, no es la de simplemente realizar estos comicios de forma electrónica, sino tratar de diseñar un sistema con idea de que pudiera ser escalable para niveles superiores al ámbito de la Escuela o la Universidad.\\
	Como se ha avanzado al inicio de esta sección, el sistema propuesto busca tener estas características:
	\begin{description}[font=$\bullet$\ \ ]
		\item[Robusto] El sistema debe ser tolerante tanto a fallos como ataques externos e internos.
		\item[Fiable] El sistema cumple con requisitos de seguridad que satisfacen la privacidad y la precisión de votos y votantes.
		\item[Verificable] Se puede verificar que los votos han sido contados y forman parte del resultado del escrutinio.
		\item[Auditable] El sistema debe proporcionar mecanismos para que pueda llevarse una auditoría del mismo antes, durante y después del proceso. 
	\end{description}
	
	
	El germen de la idea del proyecto, como se comenta en las Motivaciones del proyecto (\ref{motivacion}) era la búsqueda de soluciones para elecciones generales, autonómicas, municipales, etc. Junto a la idea de desarrollar soluciones para este tipo de comicios, también está el estudio de las circunstancias por las que todavía no se han implementado sistemas de este tipo en España de carácter general.
	
	Al realizar el estudio del estado del arte, se puede recopilar una ingente documentación teórica sobre diferentes sistemas, paradigmas y esquemas de todo tipo de votación electrónica. Hay muchos artículos y tesis muy importantes que tratan de desarrollar sistemas de este tipo, desde el punto de vista teórico hasta el prototipo práctico. Incluso tenemos estados que han implementado una solución con carácter vinculante. En este PFC, lejos de tratar de encontrar una solución novedosa y revolucionaria, vamos a tratar de plasmar un conjunto de ideas y proposiciones de diferentes autores para implementar un sistema propio para la escuela que cumpla con el mayor número de requisitos básicos y deseables para el voto electrónico, teniendo en cuenta el factor remoto, es decir, que cumpla - además de con los requisitos del voto electrónico - con requisitos de control, confiabilidad y seguridad que hagan viable el voto a través de Internet.
	
	Así pues, el objetivo general del PFC será:	
	\begin{center}
		\fbox{
			\begin{minipage}{0.8\textwidth}
				Diseñar un esquema y un sistema de voto electrónico remoto a través de Internet que sea robusto, fiable, verificable y auditable para que se puedan llevar a cabo las Elecciones a Miembro de la Junta de Escuela de la Escuela Politécnica Superior de la Universidad San Pablo CEU.
			\end{minipage}
		}
	\end{center}
	
	Teniendo en cuenta el objetivo general, se definen una serie de objetivos intermedios:

	\newlist{myitemize}{enumerate}{3}
	\setlist[myitemize,1]{label=OBJETIVO \arabic*,leftmargin=1in}	\begin{myitemize}
		\item Definir un esquema de voto electrónico que soporte la implementación del sistema en base a los requisitos del mismo.
		\item Especificar el mecanismo y los protocolos para la identificación de votantes en el sistema y la emisión de los votos con bajo riesgo de coacción.
		\item Especificar los mecanismos y protocolos para una segura recepción de los votos, así como un correcto escrutinio y una veraz publicación de resultados.
		\item Plantear un sistema de voto existente que cumpla con los requisitos del voto electrónico y sea adaptable a las necesidades de los procesos electorales a acometer.
		\item Poner a disposición de votantes y observadores un mecanismo que demuestre que los votos han sido correctamente emitidos y contabilizados y que la integridad de la elección no ha sido comprometida.
		\item Construir un prototipo de este sistema cumpliendo con el diseño de este \gls{PFC}.
	\end{myitemize}
		
% *************************************************************************************************************** %
% 			DESCRIPCIÓN DEL SISTEMA REAL
% *************************************************************************************************************** %
\section{Descripción del sistema actual}\label{descripcionSistemaReal}
	
	En estos momentos, las elecciones en la Escuela Politécnica Superior se realizan con el método tradicional de voto en urna, sin componentes electrónicos que gestionen el proceso.
	
		\subsection{Elecciones a la Junta de Escuela de la EPS}\label{analisisJuntaEPS}
			\subsubsection{Definición de la Junta de Escuela}\label{definicionJuntaEscuela}
				Según el documento \textbf{NORMAS DE ORGANIZACIÓN Y FUNCIONAMIENTO DE LA UNIVERSIDAD SAN PABLO-CEU}\cite{normasCEU}, en su Artículo 9, \textit{''Las Facultades, Escuelas y Centros integrados o adscritos son las instancias responsables de la organización de la enseñanza e investigación, de acuerdo con las directrices emanadas de los órganos superiores de la Universidad, y de los procesos académicos, administrativos y de gestión conducentes a la obtención de títulos de carácter oficial y validez en todo el territorio nacional, así como de aquellas otras funciones que determinen las presentes Normas de Organización y Funcionamiento y los restantes reglamentos universitarios.''}
				
				A partir de esta definición, en el \textit{Capítulo II. De los órganos académicos}, encontramos el Artículo 22, \textit{Tipos de órganos}, donde se establece \textit{''(1c) que las Juntas de Facultad, Escuela o Centro son órganos colegiados''}. Y encontramos su definición en el Artículo 31, \textit{Las Juntas de Centros}, donde podemos leer que \textit{''La Junta de Facultad, Escuela o Centro es el órgano colegiado de gobierno del mismo, que ejerce sus funciones con vinculación a los acuerdos del Patronato, Consejo de Gobierno y resoluciones del Rector.''}
				
				También podemos destacar los artículos 32 y 33, donde se establece la composición y funciones de las Juntas de Facultad, Centro o Escuela:
				
				\begin{itemize}
					\item \textit{Artículo 32: Composición de las Juntas}
				
						\textit{La Junta de Facultad, Escuela o Centro estará compuesta por miembros natos y electos.}
	
				
						\textit{Son miembros natos: El Decano o Director, que presidirá sus reuniones; los Vicedecanos o Subdirectores, el Secretario académico, que levantará acta de sus sesiones y los Directores de los Departamentos integrados en la Facultad o Escuela.}
	
				
						\textit{Son miembros electos: Quienes resulten elegidos en representación del profesorado y de los alumnos de acuerdo con la normativa que reglamentariamente se establezca.}
				
					\item \textit{Artículo 33: Funciones de las Juntas}
						\textit{Las competencias de la Junta de Facultad, Escuela o Centro son:}
				
						\begin{enumerate}[a)]
							\item \textit{Colaborar con el Decano o Director en la gestión de la Facultad, Escuela o Centro.}
							\item \textit{Promover el perfeccionamiento de los planes de estudio y de la metodología docente, así como el establecimiento de nuevos títulos tanto propios como oficiales.}
							\item \textit{Participar en la programación de las actividades de extensión universitaria.}
							\item \textit{Velar por la adecuada dotación de los servicios necesarios para su correcto funcionamiento.}
							\item \textit{Cualquier otra competencia que le pueda ser atribuida en el desarrollo de estas Normas de Organización y Funcionamiento.}
						\end{enumerate}
				\end{itemize}
		
			\subsubsection{Plazos del Proceso Electoral}\label{plazosElectoralesJuntaEPS}
					\begin{itemize}
						\item Convocatoria
						\item Presentación de candidaturas
						\item Publicación del censo
						\item Constitución de la Junta Electoral
						\item Designación de las mesas electorales
					\end{itemize}




% *************************************************************************************************************** %
% 			FASES DEL PROCESO ELECTORAL
% *************************************************************************************************************** %
	\section{Fases del proceso electoral}\label{fases_proceso_electoral}
	
	El Consejo Europeo, dentro de si definición de estándares, recomienda la aceptación para utilizar el \gls{EML}. Desarrollado por la \gls{OASIS}, su objetivo es el de permitir el ''intercambio de información entre hardware, software y proveedores de servicios implicados en cualquier aspecto relacionado con el desarrollo de elecciones o servicios a votantes tanto para organizaciones públicas como privadas.'' \cite{Codina:tesis}
	
	Según el estándar \gls{EML}, se distinguen cuatro actores implicados y tres fases en el proceso electoral.
	
	\textbf{Actores}
	\begin{itemize}
		\item Autoridad
		\item Administrador
		\item Votante
		\item Auditor/observador
	\end{itemize}
	
	\textbf{Fases}
	\begin{itemize}
		\item Fase Pre-Voting
		\item Fase Voting
		\item Fase Post-Voting
	\end{itemize}
	

		Teniendo en cuenta el \gls{EML}, identificamos las tres fases que dirigen el proceso electoral como fases preelectoral, electoral y postelectoral, adecuándolas al idioma español. Cada una de estas fases contiene una series de procesos o tareas determinadas.
		
		\begin{itemize}
			\item \textbf{Fase Preelectoral}
			\begin{description}[font=$\circ$\ \ ]
				\item[Definición de los límites o reglas de la elección:] Deben definirse de forma que no den lugar a ambigüedades. Qué se vota, a quién se vota, de qué forma, cómo se cuentan los votos o se asignan los cargos. Quiénes pueden votar, cuándo comienza y finaliza el sufragio.
				\item[Elaboración del censo:] Las autoridades de la Elección deben realizar un proceso de elaboración del censo electoral, para identificar qué votantes tienen derecho a ejercer el voto y dónde (con qué opciones de voto).
				\item[Registro de votantes:] Puede ser necesario que, según los mecanismos de identificación a utilizar, el votante deba registrarse previamente a la elección frente a la Autoridad Electoral, con el fin de, si no existe censo electoral formalizado, introducirse en el censo de la elección o, si existe ese censo previo, obtener la acreditación identificativa necesaria para poder votar de forma remota con las garantías avaladas por la autoridad electoral.
				\item[Presentación de candidaturas:] A efectos del sistema informático que desarrollamos es el proceso en el que la autoridad electoral define qué candidaturas pueden ser elegidas por cada votante en cada circunscripción lógica.
			\end{description}
			
			\hfill
			
			\item \textbf{Fase Electoral (Votación)}
			\begin{description}[font=$\circ$\ \ ]
				\item[Identificación:] El primer paso del proceso de votación es el de la identificación del votante. Como ya se ha planteado, la identificación del votante es uno de los procesos críticos de una elección, pues, el sistema debe cumplir con varios requisitos básicos del voto electrónico, como puede ser el principio de autenticidad (en el que sólo los votantes autorizados pueden votar) o el democrático (por el cual el votante que tiene derecho a votar es sólo para hacerlo una vez).
				\item[Votación:] El momento en el que el votante, ya identificado, visualiza las opciones entre las que puede elegir y ejerce su voto a una o varias de ellas (dependiendo del tipo de elección).
				\item[Totalización de resultados:] 
					La totalización de resultados es la fase del proceso electoral en la que se agregan los resultados contados en cada una de las mesas electorales en los diferentes niveles que componen la división territorial electoral. Por ejemplo, se suman todas las mesas de un colegio y se obtienen los resultados de ese colegio. Se suman estos para obtener los resultados de un distrito. Estos se sumarían para obtener los de una localidad, estos para los de una provincia, los de la Comunidad Autónoma, los de nivel nacional. Etc. Además, en cada elección, dependiendo de cómo sea, el nivel básico de circunscripción variará, siendo la localidad, por ejemplo, la circunscripción en elecciones Municipales o la provincia (en casi todas las comunidades autónomas) en caso de elecciones autonómicas o nacionales.
					
					En elecciones de voto electrónico dependerá de si son de urna electrónica centralizada o virtualmente distribuida para realizar la totalización simulando mesas electorales o no. Igualmente, las circunscripciones en este tipo de elecciones pueden ser cambiadas de forma lógica, pensando en qué votantes han de elegir diferentes candidatos, en lugar de tomar como base la segregación territorial.
			\end{description}

			\hfill
			\item \textbf{Fase postelectoral}
			\begin{description}[font=$\circ$\ \ ]
				\item[Difusión de resultados:] La difusión de resultados es la fase que tiene la responsabilidad de publicar los resultados de forma oficial u oficiosa. La velocidad de difusión de los resultados es importante para afianzar la transparencia del proceso. En los conteos tradicionales se muestra según van siendo totalizados los resultados de cada mesa, mostrando los resultados con pequeñas variaciones en el porcentaje de censo escrutado, en lugar de esperar a recibir toda la información y sumarla, lo que supondría difundir tan sólo una vez, aunque los resultados al 100\% del censo escrutado. Esto, en elecciones de voto electrónico o por Internet, es más complicado que ocurra si la topología en la que se basa el sistema es de urna electrónica centralizada en lugar de distribuida. 
				\end{description}
			\hfill 
			
			\item \textbf{Auditoría}:
			No es una fase propiamente dicha en el sentido cronológico en el que se han definido las anteriores. La fase de auditoría abarca todas las etapas del proceso, en mayor o menor medida, puesto que debe permitir la vigilancia del correcto funcionamiento del sistema en todas ellas.
			
		\end{itemize}


		\subsection{Fase preelectoral}\label{fase_electoral_preelectoral}
			\subsubsection{Definición de los límites o reglas de la elección}\label{fase_electoral_preelectoral_reglas}

				Para ejercer la democracia de forma correcta las ''reglas del juego'' deben estar bien definidas, de forma clara y concisa, estableciendo los límites, los mecanismos, las fechas y todo lo necesario para una correcta interpretación, sin lugar a ambigüedades.

				Estas reglas de la elección son responsabilidad de la Autoridad Electoral encargada de la organización de los comicios, así como del organismo que los convoca. De cara al sistema informático, esta fase preelectoral es la que sienta las bases de la lógica de negocio del sistema. Ya que define las reglas que el sistema deberá cumplir para llevar a cabo correctamente la elección.
				
				Estas son algunas reglas que son definidas en esta fase:
				\begin{itemize}
					\item Qué cargos se eligen.
					\item Quiénes tienen autorización para votar.
					\item Fechas del proceso: registro de votantes, inicio y fin de la votación, publicación de resultados.
					\item Definición de circunscripciones lógicas.
					\item Tipo de papeletas.
					\item Tipo de voto permitido. Incluyendo el número de opciones que un votante puede votar (sólo una o un número máximo) y número de veces que lo puede hacer.
					\item Asignación de roles a usuarios encargados de administrar la elección o custodiar los trozos de la clave de descifrado compartida.
				\end{itemize}
			
			\subsubsection{Elaboración del censo}\label{fase_electoral_preelectoral_censo}
				\par
				Uno de los cometidos de la Autoridad Electoral previamente a la celebración de unos comicios es la elaboración de un censo electoral completo y fiable que les permita tener un control de cuánta gente y quiénes disfrutan del derecho a votar. Además, este censo debe recoger a qué circunscripción pertenece cada votante y la mesa/urna donde debe realizar su voto.
				\par
				Una circunscripción es una división electoral. Pensando en elecciones legislativas de España, por ejemplo, casi todas las provincias son unicircunscripcionales, excepto el Principado de Asturias, que se conforma con 3 circunscripciones y la Región de Murcia, compuesta por 5 circunscripciones. Sin embargo, para las Elecciones al Parlamento Europeo, España registra sus votos como una única circunscripción.
				\par
				Al asignar cargos basándose en circunscripciones, es básico que en el censo esté definido en cuál de ellas vota cada votante. Además, en cada circunscripción, los candidatos varían, por lo que las papeletas entre las que cada votante puede elegir no serán iguales de unas circunscripciones a otras.
				\par
				Extrapolando a las Elecciones a la Junta de Escuela de la EPS, podemos identificar varias de estas circunscripciones, a saber:
				\begin{itemize}
					\item Alumnos, por titulación: Arquitectura, Ingeniería Informática, Ingeniería de Telecomunicaciones e Ingeniería de la Edificación
					\item Profesores, por categoría: colaboradores, adjuntos, agregados y catedráticos.
				\end{itemize}
				\par
				Podemos asumir, entonces que hay 8 circunscripciones. Por las normas de estas elecciones, para cada circunscripción se eligen 2 representantes que serán los que acaben formando la Junta de Escuela, con 16 cargos electos.
				\par
				La Universidad deberá elaborar un censo con los alumnos y profesores que tienen derecho a votar en las Elecciones, así como definir en qué circunscripción lo harán, para que tengan conocimiento de entre qué candidatos pueden elegir a sus representantes. De cara al sistema, es importante conocer estas divisiones, tanto para el conteo de los votos, como para la gestión de los candidatos en el momento en el que se presentan al votante.
				\par
				Por tanto, es necesario tener un sistema que cargue el censo electoral elaborado por la Universidad, así como la definición de las circunscripciones y la relación entre estas y el propio censo de votantes.

				
			\subsubsection{Registro de votantes}\label{fase_electoral_preelectoral_registro}
				En muchos procesos electorales no existe un censo oficial elaborado por la Autoridad Electoral o alguna otra institución relacionada (como puede ser el \gls{INE} en España). En ese caso, en multitud de estados se procede a una fase de registro en la cual se permite (en algunos casos, se obliga) a los ciudadanos a que se registren en un listado de votantes. Es el paso previo para poder votar. Una vez finalizada esta fase de registro, la Autoridad Electoral posee un censo \textit{oficial} de votantes.
				
				En el caso de las Elecciones dentro de la Escuela Politécnica, el censo lo proveerá la propia Autoridad Electoral a través de los datos de profesores, alumnos y empleados del Centro. Al realizar la carga de estos datos para conformar el censo electrónico, el sistema tendrá conocimiento de qué potenciales votantes tendrán permiso o no para votar y qué opciones de voto deberá presentarles para que conformen su boleta electrónica.
				
				Dependiendo del mecanismo digital de identificación y votación que se adopte para el sistema, la fase de registro puede ser tan simple como la correcta carga del censo en el sistema o puede aumentar ligeramente su complejidad. Si se decide utilizar una identificación basada en base de datos, habría que asignar a cada votante un nombre de usuario y una contraseña, al menos para ingresar en el sistema, ya que podría generarse otro par para la votación. En cualquier caso, en una situación como esta, además de la carga del censo resulta necesario una asociación de cada votante incluido en este con los nombres de usuarios y contraseñas generados para cada uno.
				
				La Universidad proporciona a cada alumno, profesor y empleado un carnet universitario para su identificación. Entre otros servicios, estos carnets poseen la funcionalidad de identidad y firma digitales. Puede una buena opción hacer uso de estos servicios y evitar la asociación anterior, la cual, además del paso extra, no proporciona un nivel de seguridad aceptable. El servicio de esta tarjeta (\gls{TUI}) o del \gls{DNIe} español permite una identificación digital unívoca y confiable entre el votante y el sistema. Haciendo uso del servicio de firma digital, también se varía el esquema de votación del sistema, pues no requeriría de un módulo de generación de firmas electrónicas para votantes, pues cada uno llevaría el suyo propio en su \gls{TUI} personal.
				
				
						
			\subsubsection{Presentación de las candidaturas}\label{fase_electoral_preelectoral_candidaturas}
				\par
					Una vez definido tanto el censo como las divisiones electorales, tiene que afrontarse el problema de la presentación de las candidaturas que van a competir en la elección.
					
					Para esta fase se pueden plantear diferentes soluciones en cuanto a la necesidad del proceso electoral. Desde un punto de vista simple, la propia Autoridad Electoral define y carga las diferentes candidaturas al sistema. Desde una visión más compleja, puede ser necesario la implementación de un sistema de gestión de candidaturas, como ya existe en elecciones de voto tanto electrónico como presencial, para que sean las propias candidaturas o partidos los que inscriban las listas o candidatos que les representen.
					
					Para una elección como las que se quieren afrontar de la EPS, la primera visión, más simple, tiene muchas posibilidades de ser una solución adecuada. Sin embargo, pensando en un sistema para implantar en cualquier tipo de proceso electoral o, por ejemplo, pensando en elecciones a nivel municipal gestionadas por una autoridad a nivel estatal, donde concurren multitud de candidaturas, se hace imperioso desarrollar un sistema externo que realice la gestión de la inscripción de todas estas listas, estableciendo un plazo y mecanismos para que sean los propios partidos quienes lo hagan.
					
					Esto último es lo que se realiza en las elecciones que se celebran en España, donde la Junta Electoral provee a los partidos de un sistema donde inscribir sus candidaturas, que la Junta puede gestionar, en caso necesario, dan posibilidades a los partidos a reclamar y generan el listado de candidaturas participantes en los formatos necesarios tanto para publicar en el Bxoletín Oficial del Estado o la Comunidad Autónoma como para los diferentes sistemas de escrutinio o postelectoral que se vayan a utilizar con respecto a la Jornada Electoral.

					
			\subsubsection{Generación de claves de encriptado}\label{fase_electoral_preelectoral_genreacionClaves}
			
			Uno de los requisitos principales del voto electrónico se centra en la privacidad del mismo. El voto es secreto. Para satisfacer este requisito es encesario contar con herramientas que protejan el secreto de voto. Hay muchas esquemas de voto electrónico diferentes que pueden utilizarse para desarrollar un sistema de voto telemático, pero en la práctica totalidad de ellas será necesario generar al menos una clave criptográfica de cifrado.
			
			En algunos esquemas, además de clave de cifrado hará falta clave de descifrado. Se puede considerar la generación de claves públicas y claves privadas si el esquema criptográfico del protocolo así lo requiere. En esquemas que se basan en el secreto compartido, se han de generar claves para los actores encargados de juntar la clave privada de la elección.
			
			Por ejemplo, en Helios Voting (\ref{estadocuestion_helios}), no se descifra cada voto, pero se requiere una clave para descifrar el resultado totalizado. Para ello, existe la figura de los trustees, que se reparten (comparten) esta clave (compartida) y, una vez totalizado el resultado de los votos cifrados, aportan su trozo para juntarla y utilizarla para descifrar el resultado. 

			
			Aparte, habrá que generar claves para los certificados de servidor y cliente como herramientas seguras en las que basar la infraestructura del sistema.
			
				
					
					
		\subsection{Fase electoral}\label{fase_electoral_electoral}
			\subsubsection{Identificación del votante}\label{fase_electoral_electoral_identificacion}
				\par
				El primer paso de un votante a la hora de emitir su voto, en el sistema de voto tradicional, es identificarse ante los miembros de la mesa electoral. Para ello, en elecciones como las que organizan el Ministerio de Interior en España o las diferentes Comunidades Autónomas, el votante hace uso de un documento que verifique su identidad. En España, este documento es el \gls{DNI}, aunque también se puede hacer uso del Pasaporte o carnet de conducir. En otros países en los que se carece de un documento oficial de identidad expedido por las autoridades del Estado, se realiza un registro biométrico de los votantes con, por ejemplo, las huellas dactilares de los mismos.
				
				\textbf{Identificación}
				
				En el caso de las Elecciones a la Junta de Escuela de la EPS CEU, la identificación de los votantes se realiza de forma presencial, mostrando el documento acreditativo correspondiente a la mesa electoral.				
				
				Una vez identificado al votante, se le tiene que cotejar con el censo de la elección o de la mesa en la que ha sido identificado.
				
				\textbf{Censo}
				
				En países como España, la elaboración del censo corre a cargo del \gls{INE} y reparte a los votantes en diferentes mesas repartidas en locales electorales. En otros estados, este censo no existe y se requiere que sea la ciudadanía la que se registre en un Registro de Votantes, con lo que si no se ha acudido a tiempo de realizar este trámite, la persona pierde su derecho al voto.
				
				En el caso de estudio de las elecciones de la EPS, este censo debe ser proporcionado por la propia Escuela.

				\textbf{Votación}
				
				Para dejar constancia de que un votante ya ha ejercido su derecho al voto, en países como España es tan simple como que los miembros de la mesa electoral lo reflejen en una lista con el censo de su mesa. En otros territorios, sin embargo, la costumbre es marcar de alguna forma a aquellas personas que han votado, como puede ser manchar algún dedo de la mano con tinta indeleble, para que, si el votante intenta votar en otra mesa, se pueda comprobar que ya lo había hecho previamente y no pueda repetir.

				En un sistema de voto por Internet no hay una interacción directa entre el votante y la autoridad electoral, que es quien debe permitirle votar. Por ello, es muy importante que los mecanismos para identificar al votante sean precisos y confiables. Con este objetivo, hay que valorar qué método de identificación es el mejor para cumplir con los requisitos de la elección y del voto electrónico telemático y remoto.

				\begin{itemize}
					\item[$\circ$] \textbf{Usuario / contraseña}
					
						Para las elecciones de la Junta de Escuela de la EPS, el método de usar un par usuario / contraseña sería una solución sencilla. El censo está bastante acotado y, al ser todos los potenciales votantes miembros de la Universidad, poseen una cuenta de correo electrónico corporativa proporcionada por ésta. El proceso sería tan fácil como, por ejemplo, usar la dirección de correo electrónico de cada alumno / profesor / trabajador de la Escuela como nombre de usuario y enviarles un email a cada uno con una clave aleatoria generada por la autoridad electoral.
						
						Esta solución, no obstante, sería inviable para elecciones más ambiciosas, como lo son las legislativas estatales o autonómicas, ya que carecemos de elementos como direcciones de correo electrónico de todo el censo. Se podría utilizar el correo ordinario como método para hacer llegar estas credenciales, de la misma forma en que los partidos políticos hacen llegar la propaganda electoral o la Junta Electoral hace llegar la información del censo electoral a cada votante. Considero que sería un gasto extra de recursos económicos, humanos y medioambientales que no se sostiene para la utilización de este servicio. Tampoco se asegura la recepción del correo si aprovechamos el envío de la información del censo electoral, pues el envío, al contrario que cuando hemos solicitado el voto por correo y nos hacen llegar las papeletas, no es certificado. Realizar este envío de credenciales con garantía de recibo, resultaría muy costoso y lenta.
						
						Otro motivo que desaconseja el envío de credenciales por correo es que éstas podrían ser interceptadas por otra persona distinta a quien identifican de forma no muy complicada, lo cual supone una brecha de seguridad bastante importante.
					\hfill 
					
					\item[$\circ$] \textbf{Social Login}
					
					Ahora está muy extendido el concepto de login por Social Sign-in, que es un tipo de single sign-on que hace uso de la información de un usuario registrado en una red social para acceder a una web o servicio de terceros en vez de que estos implementen un sistema de cuentas de usuarios propia.
					
					Este sistema delega el registro del usuario en la red social, simplificando el servicio de login de la web interesada, a la vez que puede obtener de la propia red social bastante información demográfica y personal, siempre que el usuario acceda a compartirla.
					
					Se trata de un servicio de autenticación y autorización. La red social autentica al usuario y 
					
					Redes sociales que permiten este servicio de login hay bastantes, destacando Google\footnote{Google Identity Plataform \url{https://developers.google.com/identity/}}, Facebook\footnote{\url{https://developers.facebook.com/docs/facebook-login}}, Twitter\footnote{\url{https://dev.twitter.com/web/sign-in}}, LinkedIn\footnote{\url{https://developer.linkedin.com/docs/oauth2}} o Yahoo!\footnote{\url{https://developer.yahoo.com/auth/}}, entre otros servicios.
					
					En los enlaces de cada uno de los proveedores de este servicio que adjunto viene una explicación detallada para desarrolladores donde se puede consultar cómo funcionan y cómo se pueden implementar en las aplicaciones web de terceros.
					
					\begin{figure}[htbp]
						\centering
							\includegraphics[height=.30\textwidth]{imgs/facebookLogin.png}
						\caption{Facebook es uno de los proveedores de servicio de Single Sign-In}
						\label{fig:Facebook_single_signin}
					\end{figure}
					
					\hfill
					
					\item[$\circ$] \textbf{Mobile ID}
					
						El Gobierno de Estonia, para sus comicios por Internet está desarrollando una tecnología en la que el propio smartphone es la herramienta que sirve para identificarnos.
						
						Mobiil-ID\footnote{\url{http://www.id.ee/index.php?id=36881}} es, según la web de la policía estonia\footnote{\url{https://www.politsei.ee/en/teenused/isikut-toendavad-dokumendid/mobiil-id/}}, una solución de identificación y firma digital para teléfonos móviles.
						
						El principio de esta tecnología es asociar la identificación digital del ciudadano con una tarjeta SIM, utilizada para tener línea de teléfono o datos en teléfonos y dispositivos móviles. Esta SIM contiene los certificados digitales de autenticación y firma apropiados para asegurar la identidad digital del ciudadano de la misma forma que lo haría su carnet de identidad digital.
						
						Parece una buena opción, pues hoy por hoy, es bastante común que llevemos el smartphone con nosotros de la misma forma que llevamos el DNI. De cara a un proceso electoral, es un dispositivo muy personal, bastante asociado al día a día de su dueño, por lo que es una herramienta con un gran potencial para proporcionar un servicio de identificación unívoca entre el usuario-votante y su registro en el censo electoral o contra los administradores del proceso.
						
						Otra ventaja es que, al estar los certificados en la SIM, nos ahorramos el hardware necesario para la lectura de certificados externos, como son el \gls{DNIe} 2.0 español o las SmartCards tradicionales. Incluso no haría falta hardware de lectura por radiofrecuencia como necesitan algunas SmartCards modernas o el propio \gls{DNIe} 3.0, con lo que se puede ahorrar en hardware interno del dispositivo.
						
						Lamentablemente, es una tecnología que en estos momentos no se implementa a gran escala en España y no hay visos de que ocurra en un futuro próximo. Motivo suficiente para descartar esta opción.
						
%\todo[inline]{ hay que mirar bien esto del MobID, pues no sé si habrá algo desarrollado, de todos modos, en España esto ni se contempla}

\hfill

					\item[$\circ$] \textbf{Smartcard}
					
						Otra opción posible es el uso de una smartcard que contenga certificados emitidos por la Autoridad Electoral para cada votante. Los inconvenientes de este método son varios:
						\begin{itemize}
							\item Por un lado, requiere un registro previo de los votantes, pues hay que generarles los certificados.
							\item Un problema logístico ya que, una vez generados los certificados e introducidos en las tarjetas, éstas deben hacerse llegar a los votantes que las van a utilizar. Este paso, en unas elecciones a gran escala puede suponer un esfuerzo injustificado.
						\end{itemize}
\hfill

					\item[$\circ$] \textbf{DNIe} \label{dnie:ventajas:identificacion}
					
						Lo ideal para una elección por el sistema de voto por Internet es implementar un proceso que resulte sencillo al votante, ya que si resulta ser más complicado que el voto tradicional, el votante no le verá sentido y no hará uso de él.
						
Con este planteamiento, parece que el uso del \gls{DNIe} es una buena idea. Por un lado, es un documento oficial que llevamos normalmente con nosotros en todo momento. Además es el mismo documento que nos identifica en las elecciones tradicionales, con lo que para el votante no debería suponer ningún trauma, al estar completamente insertado en la sociedad su uso para este cometido (asumimos en este supuesto que la implantación del \gls{DNIe} en España es casi completo, que el votante ya no necesita acudir a una comisaría a solicitarlo y que los certificados no están caducados).

						Ventajas del uso del \gls{DNIe} como identificador del votante:
							\begin{itemize}
								\item Documento expedido por las propias Autoridades del Estado, quienes lo avalan.
								\item Seguridad.
								\item La gente lo lleva consigo constantemente y está acostumbrada a usarlo para identificarse o, incluso, para realizar otro tipo de actividades en Internet, como obtener certificados de Organismos Públicos, banca por Internet, etc.
								\item Es el mismo documento que ya se utiliza para identificarse en las elecciones presenciales tradicionales.
							\end{itemize}
							
						Inconvenientes del \gls{DNIe}:
							\begin{itemize}
								\item Extranjeros con derecho a voto pueden no tener \gls{DNIe}, pero deberían poder votar con el pasaporte.
								\item Certificados caducados.Los certificados que incluye el \gls{DNIe} tienen una fecha de caducidad a partir de la cual son revocados y no tienen validez legal. Esta fecha no se corresponde con la caducidad del documento físico, que está impresa en el anverso del documento. Esta discordancia de fechas considero que es un punto débil del \gls{DNIe}, pues es muy posible que el usuario no renueve los certificados simplemente porque no sepa que han caducado, dado que el propio documento físico no lo ha hecho.
								\item Rotura del chip que contiene los certificados.
								\item Limitaciones técnicas para las aplicaciones web. En el estado actual de la tecnología, es necesario hacer uso de un applet de Java para poder firmar con el \gls{DNIe}. De cara a la identificación, ya hay software Javascript que se salta este paso, aunque no a la hora de firmar, para lo cual, hoy por hoy, no hay alternativa. Este detalle es una limitación importante, quizá no para el voto electrónico, pero sí para el voto ubicuo por Internet, ya que requiere de más tecnología que simplemente un dispositivo conectado a Internet y un lector. Además, el uso de applets está cada vez más limitado en Internet, en desuso, y se recomienda implementar alternativas basadas en el estándar \gls{W3C}. Por desgracia, este organismo todavía no tiene definido de una manera versátil cómo afrontar el problema de la criptografía con certificados digitales personales en los nuevos estándares web.
								\item Necesidad de HW externo, como son los lectores de Smartcard. Para poder utilizar el \gls{DNIe} como identificador, el sistema tiene que poder leer los datos que le indica. Si hacemos uso de los certificados que contiene, necesitamos un lector externo, lo cual quizás no sea un problema si usamos un PC que tenemos en casa, pero sí que puede serlo cuando queremos votar desde otro ordenador o incluso desde un dispositivo móvil, donde ya no es tan simple que tengamos este lector y que sea compatible.
Cierto es que podríamos hacer uso de la banda \gls{MRZ} del documento escaneándola pero solamente con este dato no se puede mantener un nivel aceptable de seguridad. Por ejemplo, se podría identificar un usuario con una fotocopia de un \gls{DNI}, lo cual en unas elecciones oficiales en España no está permitido.
							\end{itemize}
							
				A partir de enero de 2015, el Ministerio del Interior de España, a través de la Dirección General de la Policía, empezó a emitir una nueva versión del \gls{DNIe}, denominada 3.0, la cual, entre varios avances, posee, junto al chip electrónico, otro chip de radiofrecuencia basado en tecnología NFC.
				
				Sin entrar en los posibles problemas de seguridad que implica el uso de chips de radiofrecuencia, se observa interesante este avance en cuanto a una aplicación de voto por Internet. Hoy en día son muchos los dispositivos móviles (smartphones y tablets) que disponen de un lector de chips por \gls{NFC}, con lo que el inconveniente de necesitar lectores externos para identificación del votante y firma digital del voto ya no existiría. El votante podría votar desde una app instalada en su smartphone sin necesidad de elementos externos, ya que este chip \gls{NFC} contiene los mismos certificados que el chip por contacto que existía hasta ahora en la primera versión del \gls{DNIe}.

				\end{itemize}
				
	

	Para este proyecto vamos a utilizar el login con \gls{DNIe} pues creemos que es una buena prueba de concepto para demostrar la viabilidad de esta tecnología como futuro del voto por Internet en España. 
	
	Posee certificados de identificación y firma. El primero es esencial a la hora de identificar a un votante de forma unívoca. El certificado de firma es fundamental en procesos electorales que incluyan, por ejemplo, procesos basados en protocolos de firma ciega, pues pueden firmar con seguridad documentos digitales, manteniendo secreto e identidad.
	
			\subsubsection{Votación}\label{fase_electoral_electoral_votacion}

				En el sistema tradicional, el momento de la votación es aquel en el que el votante  deposita su voto en la urna tras haber escogido la papeleta o marcado la boleta de candidatos y haber sido identificado correctamente por los miembros de la mesa electoral.
				
				Este proceso es al que estamos habituados en los territorios con una cierta historia democrática. En principio, parece bastante transparente, en cuanto a que el votante puede confirmar sin ninguna duda que su voto, efectivamente, se encuentra dentro de la urna sellada, junto con el resto de votos de la mesa.
				
				Aquí encontramos el primer detalle controvertido con respecto al voto por Internet. El votante no tiene constancia física de que su voto se ha depositado en la urna correcta, ni siquiera de si está en alguna urna. No ''se ve''.
				
				Es más, sabe que ha introducido en la urna la papeleta que tenía en su mano, que sabe cuál es porque él mismo la ha elegido. Pero en el sistema informático, no sabe si ocurre lo mismo. Puede pensar que aunque haya seleccionado un candidato y el sistema le diga que ha contabilizado su voto por éste, realmente, por detrás esté cambiando el voto y registrando a otro candidato diferente.
				
				Es misión del sistema informático proveer al votante de mecanismos que le permitan verificar todas estas cuestiones. Hay que diseñar el sistema para que haya confianza en él. Quizá esta sea la mayor de las barreras existentes en la actualidad para la implantación del voto por Internet, la falta de confianza.
				
				No es por falta de métodos seguros o carencia de medios criptográficos. El problema es que no es fácil que el elector, opinión pública u organismos de control o auditoría confíen en el proceso, ya que, a priori, parece una gran caja negra, ante la cual es complicado asegurar una verificación de datos de forma transparente.

			\subsubsection{Totalización de resultados}\label{fase_electoral_electoral_totalizacion}
				La totalización es el proceso en el que se suman los resultados recogidos en cada mesa electoral y se agrupan estas agregaciones de votos en los diferentes niveles que existen "por encima".
				
				En los procesos electorales tradicionales, esto resulta ser, por ejemplo, que se suman los resultados de cada una de las mesas de un local y se obtiene el resultado de ese colegio. A continuación se totalizan los resultados de todos los colegios de un distrito para obtener los resultados de este. Los resultados del distrito se totalizan para obtener los de una localidad, estos para llegar a los de una comarca, a continuación provincia o circunscripción, comunidad autónoma y  los estatales.
				
				En nuestro sistema de votación remota, la totalización consistirá en sumar, para cada ''circunscripción lógica'' los votos emitidos por cada votante.
				
				La idea es utilizar un protocolo de cifrado homomórfico aditivo, con lo que la totalización se realizaría sobre votos cifrados y sería el resultado de esta el que se descifre. Así se asegura la privacidad del votante a la vez que se le permite votar tantas veces como desee, para reducir el peligro de la coacción.
				
				
				
		\subsection{Fase postelectoral}\label{fase_electoral_postelectoral}
		
			\subsubsection{Difusión de resultados}\label{fase_electoral_postelectoral_difusion_resultados}
			
			La difusión de resultados trata de dar visibilidad a los resultados del escrutinio y totalización de los votos de la elección.
			
			En los procesos electorales tradicionales es un proceso esencial en cuanto a la transparencia del mismo. Se intenta que la difusión sea casi en tiempo real. Básicamente, cuanto antes se muestre el resultado de escrutar una mesa, menor será la probabilidad de que los interesados en la elección tengan la sensación de que haya podido haber alguna manipulación de los resultados. Igualmente, en España, estos resultados de la noche electoral son provisionales, por lo que carece de sentido una exhausta   demostración de su correctitud, ya que los fallos que haya en el conteo se resolverán unas horas o días más tarde en el recuento definitivo, llevado a cabo públicamente por un juez de paz.
			
			En el caso de nuestro sistema de voto remoto, lo normal será que la difusión se haga con el 100\% escrutado, ya que se totalizarán todos los votos al mismo tiempo, por lo que este efecto de transparencia no podrá tenerse en cuenta. Para ello, habrá que confiar en los procesos criptográficos diseñados para salvaguardar la integridad del escrutinio de los votos y a las auditorías que lo demuestren.
			
			La difusión de resultados es la forma en la que se pone en conocimiento de los interesados en el proceso electoral el resultado de éste. Por tanto, es muy importante que se diseñe con el objetivo de alcanzar el mayor número de personas.
			
			Por eso, es interesante que el número de canales de acceso a esta información sea amplio, a la vez que cumpla con estándares de accesibilidad.
			
			Además de publicar en web o en dispositivos móviles a través de aplicaciones nativas, resulta muy interesante pensar en la publicación de resultados a través de una \gls{API} para que terceros puedan realizar su propia difusión. Esto es interesante para medios de comunicación, por ejemplo, las televisiones o periódicos online, que pueden conectarse a la \gls{API} y realizar sus propios gráficos multimedia para cubrir en directo la noticia del avance del escrutinio. Es lo que ocurre ahora mismo con las elecciones en España.
			
			
		\subsubsection{Verificación de resultados}\label{fase_electoral_postelectoral_verificacion}
			Tras el cierre de la elección, totalización y difusión de resultados, es necesario implementar un sistema que permita a los votantes verificar la integridad de su voto y a los observadores verificar la integración de la elección.
			
			Hay que hacer uso de protocolos criptográficos de pruebas de conocimiento cero para poder llevar a cabo estas verificaciones de forma efectiva y segura.
			

% *************************************************************************************************************** %
% 			GGGGGGGGGGGGGGGGGGGGGGGGGGGGG
% *************************************************************************************************************** %
	\section{Descripción}
		Tras el estudio de cómo debe ser un sistema de voto por Internet, aparecen cuestiones importantes como puede ser el esquema criptográfico a utilizar, el flujo de procesos, actores intervinientes, fases, problemas asociados al voto electrónico, seguridad, confiabilidad, etc.
		
		Teniendo en cuenta estos problemas, se ha valorado el uso de un sistema desarrollado desde cero, adecuado a las necesidades de la Elección de la Junta de Escuela que se quiere realizar. Frente a este escenario, otra opción es la de basarse en alguna herramienta existente y, si es necesario, realizar una adaptación de la misma para cuadrar con los requisitos de este proceso electoral.
		
		El hecho de que este tipo de sistemas deban tener una base criptográfica muy importante es uno de los motivos principales para optar por la adaptación de alguna solución ya existente en lugar del desarrollo. En el estudio de soluciones en el mercado encontramos que, aunque no existen realmente muchas opciones libres que reutilizar, sí que existe un verdadero estudio teórico del problema del voto digital. Entre las opciones que han decidido desarrollar las propuestas teóricas hay algunos que merece tener en cuenta, como son Helios Voting (\ref{estadocuestion_helios}), Agora Voting (\ref{estadocuestion_agoravoting}), Adder (\ref{estadocuestion_adder}), el sistema electoral de Estonia (\ref{ivotingEstonia}), junto con otras opciones que no son \gls{E2E} verificables o no tratan el voto remoto por completo, como pueden ser Votescript, Punch\&Vote u otros sistemas publicados.
		
		De entre todas estas opciones, las más atractivas para el tipo de elecciones que se quieren desarrollar en este proyecto resultan ser las propuestas por Ágora Voting y Helios Voting.
		
		
		Helios Voting es un sistema de voto \gls{E2E} verificable, basado en un esquema criptográfico homomórfico, utilizando pruebas de conocimiento nulo para verificar tanto el voto individual de cada votante como el correcto conteo de la elección. En el sistema hemos visto que no es necesario desencriptar los votos para realizar el escrutinio, sino que se realiza con los votos encriptados y, posteriormente, lo que se descifra es el cifrado del resultado del mismo. El desarrollador de Helios Voting se ha apoyado en gente bastante reputada en el campo de la seguridad informática, la criptografía y el voto digital por lo que el apartado criptográfico del sistema está suficientemente probado y documentado que cumple con los requisitos del voto electrónico.
		
		Aunque el peso de la criptografía la estamos delegando en el sistema elegido, en este se observan una serie de elementos que no se ajustan a la primera idea sobre el sistema desde cero.
		
		El esquema criptográfico utilizado por Helios es homomórfico. En una primera versión apostaban por un esquema basado en mixnets, análogo al utilizado en el desarrollo del sistema estonio. El uso de una mixnet resultaba bastante interesante al pensar en la identificación del votante con un soporte que posee certificados digitales, como el \gls{DNIe}, que permitiría identificar al votante y que este pudiese firmar su voto. Así, utilizando un protocolo de firma ciega, podría asegurarse la identificación unívoca del votante, su elegibilidad para votar y si ya ha ejercido su voto con anterioridad. A partir del momento en el que se cierra la votación y comienza el escrutinio, sería muy importante desacoplar el dato del votante del voto emitido, momento en el que entra en juego el esquema de mixnets, ideal para llevar a cabo este proceso de desacoplamiento votante-voto.
		
		Aunque en la primera versión de Helios el esquema utilizado fue el de mixnets, a partir de la siguiente versión se cambió al homomorfismo. El futuro a partir de la versión 3 era implementar ambas soluciones en el sistema, pero al final se decidió no continuar con la integración de la mixnet.
		
		El sistema de identificación actual de Helios es el de usuario/contraseña o el uso de protocolos oAuth contra entidades externas, como Google, Facebook, Yahoo! o Twitter. En el caso de las Elecciones a la Junta de Escuela, parece muy interesante la introducción de los certificados digitales, aprovechando el esfuerzo de la Administración al desarrollar una nueva versión del DNI electrónico, con chips sin contacto NFC, lo que puede suponer una oportunidad para el uso de certificados digitales desde dispositivos móviles. No obstante, eliminando el elemento innovador del nuevo chip del \gls{DNIe}, observando casos de éxito del sistema Helios en elecciones reales, los organismos en los que se ha utilizado han desarrollado sus propios módulos de identificación de votantes. En concreto, en las elecciones de la Universidad de Louvain, se desarrolló el subsistencia de identificación para que fuese compatible con las credenciales que los alumnos utilizaban para acceder a los servicios de la propia Universidad.
		
		Por tanto, para las Elecciones de la EPS, sería una buena solución el desacoplar el módulo de identificación de votante y desarrollar uno nuevo que se comunique con la base de datos del censo de la Universidad. Para esto, se puede implementar, como en las elecciones de la Universidad de Louvain, un servicio de usuario/password y continuar con el sistema Helios existente. También se podría desarrollar un servicio de autenticación oAuth siendo la propia Universidad la que proporciona los tokens. Pero, como se ha avanzado, se va a implementar un sistema de autenticación basado en las credenciales proporcionadas por el \gls{DNIe}.
		
		Un primer cambio importante que se propone para el sistema Helios es que la gestión del censo electoral pueda externalizarse. Actualmente, el sistema guarda en su propia base de datos la lista de votantes que pueden votar. De hecho, por el carácter general del sistema, esto es así para que el administrador de la elección pueda cargar el censo de votantes a través de ficheros \gls{CSV}, separados por comas. Para el cometido del proyecto, sería necesario modificar este sistema censal.
		
		Modificaciones sobre Helios:
		\begin{itemize}
			\item Capar el sistema para que no permita el voto a cualquier votante, sino solamente a aquellos votantes que aparezcan en el censo.
			\item Externalizar el listado de votantes para que no lo gestione Helios, sino el organizador de la Elección.
			\item Cambiar los métodos de autenticación para que el permitido sea el \gls{DNIe}.
			\item Modificar la interfaz web del sistema para adecuarla a las Elecciones a la Junta de Escuela de la EPS.
		\end{itemize}
		
		
		
		
		